{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"TodoList\",\n  data() {\n    return {\n      tableData: [],\n      newTitle: \"\"\n    };\n  },\n  mounted() {\n    this.axios.get(\"/v1/todo\").then(response => this.tableData = response.data);\n  },\n  methods: {\n    tableRowClassName({\n      row\n    }) {\n      if (row.status) {\n        return \"success-row\";\n      } else {\n        return \"\";\n      }\n    },\n    getTodoList() {\n      this.axios.get(\"/v1/todo\").then(response => this.tableData = response.data);\n    },\n    handleEdit(index, row) {\n      let messageSuffix = row.status ? \" 置为未完成\" : \" 置为已完成\";\n      this.axios.put(\"/v1/todo/\" + row.id, {\n        status: !row.status\n      }).then(() => {\n        this.tableData[index].status = !row.status;\n        this.$message({\n          showClose: true,\n          duration: 1500,\n          message: `<${row.title}> ${messageSuffix}`,\n          type: \"success\"\n        });\n      });\n    },\n    handleDelete(index, id) {\n      this.axios.delete(\"/v1/todo/\" + id).then(() => {\n        this.tableData.splice(index, 1);\n        this.$message({\n          showClose: true,\n          duration: 1500,\n          message: \"删除待办事项成功\",\n          type: \"success\"\n        });\n      });\n    },\n    handleAdd() {\n      if (this.newTitle != \"\") {\n        this.axios.post(\"/v1/todo\", {\n          title: this.newTitle\n        }).then(() => {\n          this.getTodoList();\n          this.$message({\n            showClose: true,\n            duration: 1500,\n            message: \"添加待办事项成功\",\n            type: \"success\"\n          });\n        });\n        this.newTitle = \"\";\n      } else {\n        this.$message({\n          showClose: true,\n          duration: 1500,\n          message: \"title不能为空哦\",\n          type: \"warning\"\n        });\n      }\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}